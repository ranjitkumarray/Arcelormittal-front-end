<ng-container *ngIf="loadingRouteConfig">
    <div class="loading-overlay is-active">
        <span class="signal"></span>
    </div>
</ng-container>
<mat-tab-group (selectedTabChange)="myTaksTabChange($event.tab.textLabel)">
    <mat-tab label="Alloy Surcharge Wire">
        <mat-card>
            <!-- ========================file upload start here==========================  -->
            <div>
                <div class="row bg-w">
                    <div class="col-sm-12 col-lg-12 col-md-12 col-xl-12 col-12">
                        <div class="mtb-10">
                            <div class="height-100">
                                <div id="drag_zone" class="file-upload-wrapper" (drop)="dropFiles($event)"
                                    (dragover)='dragOverHandler($event)'>
                                    <div class="pointCenter">
                                        <div class="card-drag">
                                            <span class="header">
                                                you can drag & drop your file here .. <br>
                                                OR
                                            </span>
                                        </div>
                                        <div>
                                            <button type="button" color="primary" mat-raised-button
                                                [disabled]="selectedFiles.alloy_surcharge_wire.file!=''"
                                                (click)="fileInput2.click()">
                                                Choose file
                                            </button>
                                            <input hidden type='file' (change)="onSelectFile($event)" #fileInput2
                                                id="file" accept=".xls, .xlsx">
                                        </div>
                                    </div>
                                </div>
                                <div>
                                    <mat-list>
                                        <mat-list-item *ngIf="selectedFiles.alloy_surcharge_wire.uploadCompleted">
                                            <mat-icon mat-list-icon>note</mat-icon>
                                            <div mat-line>{{selectedFiles.alloy_surcharge_wire.file?.fileName}}</div>

                                            <div>
                                                <button mat-icon-button color="primary"
                                                    (click)="uploadFiles(SelectedTab)">
                                                    <mat-icon>upload</mat-icon>
                                                </button>
                                                <button mat-icon-button color="warn"
                                                    (click)="deleteFile(selectedFiles.alloy_surcharge_wire.file,SelectedTab)">
                                                    <mat-icon>delete_forever</mat-icon>
                                                </button>
                                            </div>
                                            <mat-divider></mat-divider>
                                        </mat-list-item>
                                    </mat-list>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- ========================file upload end ========================= -->
            <div class="row" *ngIf="alloy_surcharge_wire && (selectedFiles.alloy_surcharge_wire.file)">
                <!-- <div class="row"> -->
                <div class="col-6">
                    <div class="text-left mt-10">
                        <!-- <button type="button" color="primary" mat-raised-button
                            (click)="validateDataForm('alloy_surcharge_wire')" style="margin-right:10px">
                            Validate Alloy Surcharge Wire
                        </button> -->
                        <button mat-raised-button type="button" color="primary"  style="margin-right:10px"
                            (click)="validatePopup('alloy_surcharge_wire')">
                            Validate Alloy Surcharge Wire
                        </button>
                        
                        <button type="button" color="primary" class="mr-5" mat-raised-button (click)="downloadFiles('alloy_surcharge_wire')">
                            <i class="fa fa-download"></i> Download
                        </button>
                    </div>
                </div>
                <div class="col-6">
                    <div class="text-right mt-10">
                        <mat-form-field appearance="outline">
                            <mat-label>Search</mat-label>
                            <input matInput (keyup)="applyFilter($event,SelectedTab)" #input>
                            <mat-icon matSuffix>search</mat-icon>
                        </mat-form-field>

                    </div>
                </div>
            </div>
            <div class="row" *ngIf="alloy_surcharge_wire && (selectedFiles.alloy_surcharge_wire.file)">
                <div class="col-12">
                    <div class="my_offer_table_container">
                        <div class="text-center h-100">
                            <div class="table-outer-container offer_table_container position-relative h-100">
                                <div class="table-inner-container h-100">


                                    <table mat-table [dataSource]="alloy_surcharge_wire"
                                        class="custom_table order_table">

                                        <ng-container matColumnDef="VKORG">
                                            <th mat-header-cell *matHeaderCellDef > VKORG </th>
                                            <td mat-cell *matCellDef="let element"> {{element?.VKORG}} </td>
                                        </ng-container>

                                        <ng-container matColumnDef="COND_TYPE">
                                            <th mat-header-cell *matHeaderCellDef > COND TYPE</th>
                                            <td mat-cell *matCellDef="let element"> {{element?.COND_TYPE}} </td>
                                        </ng-container>

                                        <ng-container matColumnDef="DST_CH">
                                            <th mat-header-cell *matHeaderCellDef > DST CH </th>
                                            <td mat-cell *matCellDef="let element"> {{element?.DST_CH}} </td>
                                        </ng-container>

                                        <ng-container matColumnDef="DIV">
                                            <th mat-header-cell *matHeaderCellDef > DIV</th>
                                            <td mat-cell *matCellDef="let element"> {{element?.DIV}} </td>
                                        </ng-container>

                                        <ng-container matColumnDef="Month_year">
                                            <th mat-header-cell *matHeaderCellDef > Month year</th>
                                            <td mat-cell *matCellDef="let element"> {{element?.Month_year}} </td>
                                        </ng-container>

                                        <ng-container matColumnDef="Amount">
                                            <th mat-header-cell *matHeaderCellDef > Amount</th>
                                            <td mat-cell *matCellDef="let element"> {{element?.Amount }} </td>
                                        </ng-container>

                                        <ng-container matColumnDef="Customer_ID">
                                            <th mat-header-cell *matHeaderCellDef > Customer ID </th>
                                            <td mat-cell *matCellDef="let element"> {{element?.Customer_ID}} </td>
                                        </ng-container>

                                        <ng-container matColumnDef="Internal_Grade">
                                            <th mat-header-cell *matHeaderCellDef > Internal Grade </th>
                                            <td mat-cell *matCellDef="let element"> {{element?.Internal_Grade}} </td>
                                        </ng-container>

                                     
                                        <ng-container matColumnDef="OFFER_ALLOY">
                                            <th mat-header-cell *matHeaderCellDef > OFFER ALLOY </th>
                                            <td mat-cell *matCellDef="let element"> {{element?.OFFER_ALLOY}} </td>
                                        </ng-container>
                                        <ng-container matColumnDef="OFFER_EFF_PR">
                                            <th mat-header-cell *matHeaderCellDef > OFFER EFF PR </th>
                                            <td mat-cell *matCellDef="let element"> {{element?.OFFER_EFF_PR}} </td>
                                        </ng-container>
                                        <ng-container matColumnDef="OFFER_ALLOY_NUMBER">
                                            <th mat-header-cell *matHeaderCellDef > OFFER ALLOY NUMBER</th>
                                            <td mat-cell *matCellDef="let element"> {{element?.OFFER_ALLOY_NUMBER}} </td>
                                        </ng-container>
                                        <ng-container matColumnDef="OFFER_EFF_PR_NUMBER">
                                            <th mat-header-cell *matHeaderCellDef > OFFER EFF PR NUMBER </th>
                                            <td mat-cell *matCellDef="let element"> {{element?.OFFER_EFF_PR_NUMBER}} </td>
                                        </ng-container>



                                        <tr mat-header-row *matHeaderRowDef="displayedColumns_wire"></tr>
                                        <tr mat-row *matRowDef="let row; columns: displayedColumns_wire;"></tr>

                                    </table>
                                    <mat-paginator [pageSizeOptions]="[10, 30, 50, 100]"
                                        aria-label="Select page of users"></mat-paginator>

                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </mat-card>
    </mat-tab>

    <!-- ************************************************************************************************************** -->

    <mat-tab label="Alloy Surcharge Billet">
        <mat-card>
            <!-- ========================file upload start here==========================  -->
            <div>
                <div class="row bg-w">
                    <div class="col-sm-12 col-lg-12 col-md-12 col-xl-12 col-12">
                        <div class="mtb-10">
                            <div class="height-100">
                                <div id="drag_zone" class="file-upload-wrapper" (drop)="dropFiles($event)"
                                    (dragover)='dragOverHandler($event)'>
                                    <div class="pointCenter">
                                        <div class="card-drag">
                                            <span class="header">
                                                you can drag & drop your file here .. <br>
                                                OR
                                            </span>
                                        </div>
                                        <div>
                                            <button type="button" color="primary" mat-raised-button
                                                [disabled]="selectedFiles.alloy_surcharge_billet.file!=''"
                                                (click)="fileInput2.click()">
                                                Choose file
                                            </button>
                                            <input hidden type='file' (change)="onSelectFile($event)" #fileInput2
                                                id="file" accept=".xls, .xlsx">
                                        </div>
                                    </div>
                                </div>
                                <div>
                                    <mat-list>
                                        <mat-list-item *ngIf="selectedFiles.alloy_surcharge_billet.uploadCompleted">
                                            <mat-icon mat-list-icon>note</mat-icon>
                                            <div mat-line>{{selectedFiles.alloy_surcharge_billet.file?.fileName}}</div>

                                            <div>
                                                <button mat-icon-button color="primary"
                                                    (click)="uploadFiles(SelectedTab)">
                                                    <mat-icon>upload</mat-icon>
                                                </button>
                                                <button mat-icon-button color="warn"
                                                    (click)="deleteFile(selectedFiles.alloy_surcharge_billet.file,SelectedTab)">
                                                    <mat-icon>delete_forever</mat-icon>
                                                </button>
                                            </div>
                                            <mat-divider></mat-divider>
                                        </mat-list-item>
                                    </mat-list>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- ========================file upload end ========================= -->
            <div class="row" *ngIf="alloy_surcharge_billet && (selectedFiles.alloy_surcharge_billet.file)">
                <div class="col-6">
                    <div class="text-left mt-10">
                        <button type="button" color="primary" style="margin-right:10px"
                         class="text-right mt-10" mat-raised-button
                            (click)="validatePopup('alloy_surcharge_billet')">
                            Validate Alloy Surcharge Billet
                        </button>
                        <button type="button" color="primary" class="mr-5" mat-raised-button (click)="downloadFiles('alloy_surcharge_billet')">
                            <i class="fa fa-download"></i> Download
                        </button>
                    </div>
                </div>
                <div class="col-6">
                    <div class="text-right mt-10">
                        <mat-form-field appearance="outline">
                            <mat-label>Search</mat-label>
                            <input matInput (keyup)="applyFilter($event,SelectedTab)" #input>
                            <mat-icon matSuffix>search</mat-icon>
                        </mat-form-field>

                    </div>
                </div>
            </div>
            <div class="row" *ngIf="alloy_surcharge_billet && (selectedFiles.alloy_surcharge_billet.file)">
                <div class="col-12">
                    <div class="my_offer_table_container">
                        <div class="text-center h-100">
                            <div class="table-outer-container offer_table_container position-relative h-100">
                                <div class="table-inner-container h-100">
                                    <table mat-table [dataSource]="alloy_surcharge_billet"
                                        class="custom_table order_table">

                                        <ng-container matColumnDef="VKORG">
                                            <th mat-header-cell *matHeaderCellDef> VKORG</th>
                                            <td mat-cell *matCellDef="let element"> {{element?.VKORG}} </td>
                                        </ng-container>

                                        <ng-container matColumnDef="COND_TYPE">
                                            <th mat-header-cell *matHeaderCellDef> COND TYPE</th>
                                            <td mat-cell *matCellDef="let element"> {{element?.COND_TYPE}} </td>
                                        </ng-container>

                                        <ng-container matColumnDef="DST_CH">
                                            <th mat-header-cell *matHeaderCellDef> DST CH </th>
                                            <td mat-cell *matCellDef="let element"> {{element?.DST_CH}} </td>
                                        </ng-container>

                                        <ng-container matColumnDef="DIV">
                                            <th mat-header-cell *matHeaderCellDef> DIV </th>
                                            <td mat-cell *matCellDef="let element"> {{element?.DIV}} </td>
                                        </ng-container>

                                        <ng-container matColumnDef="Month_year">
                                            <th mat-header-cell *matHeaderCellDef> Month year</th>
                                            <td mat-cell *matCellDef="let element"> {{element?.Month_year}} </td>
                                        </ng-container>

                                        <ng-container matColumnDef="Amount">
                                            <th mat-header-cell *matHeaderCellDef> Amount</th>
                                            <td mat-cell *matCellDef="let element"> {{element?.Amount }} </td>
                                        </ng-container>

                                        <ng-container matColumnDef="WARENEMPFAENGER_NR">
                                            <th mat-header-cell *matHeaderCellDef> WARENEMPFAENGER NR</th>
                                            <td mat-cell *matCellDef="let element"> {{element?.WARENEMPFAENGER_NR }}
                                            </td>
                                        </ng-container>

                                        <ng-container matColumnDef="SEL_NR_MELDUNG">
                                            <th mat-header-cell *matHeaderCellDef> SEL_NR MELDUNG</th>
                                            <td mat-cell *matCellDef="let element"> {{element?.SEL_NR_MELDUNG }} </td>
                                        </ng-container>

                                        <ng-container matColumnDef="dRUCKSPERRE">
                                            <th mat-header-cell *matHeaderCellDef> DRUCKSPERRE</th>
                                            <td mat-cell *matCellDef="let element"> {{element?.dRUCKSPERRE }} </td>
                                        </ng-container>

                                        <tr mat-header-row *matHeaderRowDef="displayedColumns_billet"></tr>
                                        <tr mat-row *matRowDef="let row; columns: displayedColumns_billet;"></tr>
                                    </table>
                                    <mat-paginator [pageSizeOptions]="[10, 30, 50, 100]"
                                        aria-label="Select page of users"></mat-paginator>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </mat-card>
    </mat-tab>

    <mat-tab label="Scrap Surcharge Billet">
        <mat-card>
            <!-- ========================file upload start here==========================  -->
            <div>
                <div class="row bg-w">
                    <div class="col-sm-12 col-lg-12 col-md-12 col-xl-12 col-12">
                        <div class="mtb-10">
                            <div class="height-100">
                                <div id="drag_zone" class="file-upload-wrapper" (drop)="dropFiles($event)"
                                    (dragover)='dragOverHandler($event)'>
                                    <div class="pointCenter">
                                        <div class="card-drag">
                                            <span class="header">
                                                you can drag & drop your file here .. <br>
                                                OR
                                            </span>
                                        </div>
                                        <div>
                                            <button type="button" color="primary" mat-raised-button
                                                [disabled]="selectedFiles.scrap_surcharge_billet.file!=''"
                                                (click)="fileInput2.click()">
                                                Choose file
                                            </button>
                                            <input hidden type='file' (change)="onSelectFile($event)" #fileInput2
                                                id="file" accept=".xls, .xlsx">
                                        </div>
                                    </div>
                                </div>
                                <div>
                                    <mat-list>
                                        <mat-list-item *ngIf="selectedFiles.scrap_surcharge_billet.uploadCompleted">
                                            <mat-icon mat-list-icon>note</mat-icon>
                                            <div mat-line>{{selectedFiles.scrap_surcharge_billet.file?.fileName}}</div>
                                            <div>
                                                <button mat-icon-button color="primary"
                                                    (click)="uploadFiles(SelectedTab)">
                                                    <mat-icon>upload</mat-icon>
                                                </button>
                                                <button mat-icon-button color="warn"
                                                    (click)="deleteFile(selectedFiles.scrap_surcharge_billet.file,SelectedTab)">
                                                    <mat-icon>delete_forever</mat-icon>
                                                </button>
                                            </div>
                                            <mat-divider></mat-divider>
                                        </mat-list-item>
                                    </mat-list>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- ========================file upload end ========================= -->
            <div class="row" *ngIf="scrap_surcharge_billet && (selectedFiles.scrap_surcharge_billet.file)">
                <div class="col-6 ">
                    <div class="text-left mt-10">
                        <button type="button" color="primary" style="margin-right:10px" mat-raised-button
                            (click)="validatePopup('scrap_surcharge_billet')">
                            Validate Scrap Surcharge Billet
                        </button>
                        <button type="button" color="primary" class="mr-5" mat-raised-button (click)="downloadFiles('scrap_surcharge_billet')">
                            <i class="fa fa-download"></i> Download
                        </button>
                    </div>
                </div>
                <div class="col-6">
                    <div class="text-right mt-10">
                        <mat-form-field appearance="outline">
                            <mat-label>Search</mat-label>
                            <input matInput (keyup)="applyFilter($event,SelectedTab)" #input>
                            <mat-icon matSuffix>search</mat-icon>
                        </mat-form-field>

                    </div>
                </div>
            </div>
            <div class="row" *ngIf="scrap_surcharge_billet && (selectedFiles.scrap_surcharge_billet.file)">
                <div class="col-12">
                    <div class="my_offer_table_container">
                        <div class="text-center h-100">
                            <div class="table-outer-container offer_table_container position-relative h-100">
                                <div class="table-inner-container h-100">
                                    <table mat-table [dataSource]="scrap_surcharge_billet"
                                        class="custom_table order_table">

                                        <ng-container matColumnDef="VKORG">
                                            <th mat-header-cell *matHeaderCellDef> VKORG </th>
                                            <td mat-cell *matCellDef="let element"> {{element?.VKORG}} </td>
                                        </ng-container>

                                        <ng-container matColumnDef="COND_TYPE">
                                            <th mat-header-cell *matHeaderCellDef> COND TYPE </th>
                                            <td mat-cell *matCellDef="let element"> {{element?.COND_TYPE}} </td>
                                        </ng-container>

                                        <ng-container matColumnDef="DST_CH">
                                            <th mat-header-cell *matHeaderCellDef> DST CH</th>
                                            <td mat-cell *matCellDef="let element"> {{element?.DST_CH}} </td>
                                        </ng-container>

                                        <ng-container matColumnDef="DIV">
                                            <th mat-header-cell *matHeaderCellDef> DIV</th>
                                            <td mat-cell *matCellDef="let element"> {{element?.DIV}} </td>
                                        </ng-container>

                                        <ng-container matColumnDef="Month_year">
                                            <th mat-header-cell *matHeaderCellDef> Month year</th>
                                            <td mat-cell *matCellDef="let element"> {{element?.Month_year}} </td>
                                        </ng-container>

                                        <ng-container matColumnDef="Model">
                                            <th mat-header-cell *matHeaderCellDef> Model</th>
                                            <td mat-cell *matCellDef="let element"> {{element?.Model}} </td>
                                        </ng-container>

                                        <ng-container matColumnDef="Monthly_Deviation">
                                            <th mat-header-cell *matHeaderCellDef> Monthly Deviation</th>
                                            <td mat-cell *matCellDef="let element"> {{element?.Monthly_Deviation }}
                                            </td>
                                        </ng-container>

                                        <ng-container matColumnDef="Product">
                                            <th mat-header-cell *matHeaderCellDef> Product</th>
                                            <td mat-cell *matCellDef="let element"> {{element?.Product }} </td>
                                        </ng-container>

                                        <ng-container matColumnDef="Amount">
                                            <th mat-header-cell *matHeaderCellDef> Amount</th>
                                            <td mat-cell *matCellDef="let element"> {{element?.Amount }} </td>
                                        </ng-container>

                                        <tr mat-header-row *matHeaderRowDef="displayedColumns_scrap"></tr>
                                        <tr mat-row *matRowDef="let row; columns: displayedColumns_scrap;"></tr>
                                    </table>
                                    <mat-paginator [pageSizeOptions]="[10, 30, 50, 100]"
                                        aria-label="Select page of users"></mat-paginator>

                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </mat-card>
    </mat-tab>
</mat-tab-group>